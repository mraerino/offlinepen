<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/app-route/app-route.html">

<dom-module id="view-editor">
  <template>
    <style>
    </style>

    <app-route route="[[ route ]]" pattern="/:penId" data="{{ routeData }}" active="{{ editorActive }}"></app-route>

    <h1>Pen ID: [[ routeData.penId ]]</h1>
  </template>
</dom-module>

<script>
  class ViewEditor extends Polymer.Element {
    static get is() { return 'view-editor'; }

    static get properties() {
      return {
        route: {
          type: Object
        }
      };
    }

    static get observers() {
      return [
        'routeChanged(routeData.*, editorActive)'
      ];
    }

    routeChanged(change, active) {
      if(!active) {
        this.dispatchEvent(new CustomEvent('op-navigateTo', {
          detail: { path: '/list' },
          bubbles: true,
          composed: true
        }));
      }
    }
  }

  customElements.define(ViewEditor.is, ViewEditor);
</script>
